{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-router\"","webpack:///external \"axios\"","webpack:///external \"yup\"","webpack:///external \"redux\"","webpack:///./node_modules/path-browserify/index.js","webpack:///external \"express\"","webpack:///external \"history\"","webpack:///external \"formik\"","webpack:///external \"redux-thunk\"","webpack:///external \"webpack\"","webpack:///external \"react-dom/server\"","webpack:///external \"serialize-javascript\"","webpack:///./node_modules/process/browser.js","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///./webpack.dev.js","webpack:///external \"webpack-merge\"","webpack:///./webpack.common.js","webpack:///external \"webpack-node-externals\"","webpack:///external \"html-webpack-plugin\"","webpack:///external \"copy-webpack-plugin\"","webpack:///./src/components/CartIcon.jsx","webpack:///./src/components/Logo.jsx","webpack:///./src/components/Header.jsx","webpack:///./src/config/index.js","webpack:///./src/constants/actionTypes.js","webpack:///./src/helpers/history.js","webpack:///./src/actions/customer.js","webpack:///./src/components/Product.jsx","webpack:///./src/components/Products.jsx","webpack:///./src/components/Footer.jsx","webpack:///./src/components/CartEmpty.jsx","webpack:///./src/helpers/displayCurrency.js","webpack:///./src/components/CartTable.jsx","webpack:///./src/components/CartForm.jsx","webpack:///./src/components/Cart.jsx","webpack:///./src/components/CartPage.jsx","webpack:///./src/components/CartThankYou.jsx","webpack:///./src/helpers/ScrollToTop.jsx","webpack:///./src/components/App.jsx","webpack:///./src/reducers/index.js","webpack:///./src/middlewares/customerTokenMiddleware.js","webpack:///./src/store/configureStore.js","webpack:///./src/actions/products.js","webpack:///./src/ssrRoutes.js","webpack:///./src/server.jsx"],"names":["merge","require","webpack","webpackCommon","clientConfig","smart","mode","devtool","module","rules","test","loader","options","sourceMap","plugins","HotModuleReplacementPlugin","devServer","contentBase","hot","serverConfig","exports","path","nodeExternals","HtmlWebpackPlugin","CopyWebpackPlugin","entry","output","resolve","__dirname","publicPath","filename","exclude","use","presets","extensions","from","to","title","template","node","externals","CartIcon","React","Component","render","cartLink","itemsCount","props","cart","reduce","acc","item","qty","textDecoration","mapStateToProps","state","connect","Logo","Header","prodApiBaseUrl","devApiBaseUrl","config","apiBaseUrl","process","RECEIVE_PRODUCTS","RECEIVE_PRODUCT","SET_CUSTOMER","SET_CART","UPDATE_CART_ITEM","CHECKOUT_START","CHECKOUT_END","createHistory","window","createBrowserHistory","createMemoryHistory","setCustomer","customer","type","types","setCart","checkoutStart","checkoutEnd","addCartItem","productId","dispatch","getState","filteredCart","filter","product_id","cartItem","length","auth","headers","Authorization","token","updateCartResponse","axios","post","customer_id","status","newCart","data","console","log","updateCartItem","checkout","checkoutInfo","checkoutResponse","history","push","Product","imageUrl","image","id","description","price","buy","mapDispatchToProps","customerActions","Products","constructor","products","map","_id","CartEmpty","displayCurrency","value","floatValue","parseFloat","toFixed","CartTable","cartTotal","totalPrice","totalQty","total","disableDelete","handleDelete","Cart","Yup","shape","name","required","phone","matches","phoneRegExp","address","values","comment","validationSchema","handleCompleteOrder","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting","setState","handleCheckout","handleCancel","CartPage","cartEmpty","CartThankYou","ScrollToTop","componentDidUpdate","prevProps","location","scrollTo","children","withRouter","App","initialState","action","JSON","stringify","customerTokenMiddleware","next","localStorage","setItem","configureServerStore","middleware","thunk","createStore","reducer","applyMiddleware","configureClientStore","receiveProducts","loadProducts","productsResponse","get","SsrRoutes","productsActions","app","express","static","renderPage","html","serialize","req","res","currentRoute","find","route","matchPath","url","store","loadDataAction","then","componentHtml","ReactDOM","renderToString","send","server","listen","host","port"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA,kC;;;;;;ACAA,wC;;;;;;ACAA,6C;;;;;;ACAA,yC;;;;;;ACAA,kC;;;;;;ACAA,gC;;;;;;ACAA,kC;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,8BAA8B;AAClE;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;;AAEA;AACA,UAAU,UAAU;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,sBAAsB;AACrD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;;;;;;;AC7SA,oC;;;;;;ACAA,oC;;;;;;ACAA,mC;;;;;;ACAA,wC;;;;;;ACAA,oC;;;;;;ACAA,6C;;;;;;ACAA,iD;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACvLtC,mD;;;;;;ACAA,mD;;;;;;ACAA,MAAMA,KAAK,GAAGC,mBAAO,CAAC,EAAD,CAArB;;AACA,MAAMC,OAAO,GAAGD,mBAAO,CAAC,EAAD,CAAvB;;AAEA,MAAME,aAAa,GAAGF,mBAAO,CAAC,EAAD,CAA7B;;AAEA,MAAMG,YAAY,GAAGJ,KAAK,CAACK,KAAN,CAAYF,aAAa,CAACC,YAA1B,EAAwC;AAC5DE,MAAI,EAAE,aADsD;AAE5DC,SAAO,EAAE,iBAFmD;AAG5DC,QAAM,EAAE;AACPC,SAAK,EAAE,CACN;AACCC,UAAI,EAAE,aADP;AAECC,YAAM,EAAE,CACP,cADO,EAEP,YAFO,EAGP,gBAHO,EAIP;AACCA,cAAM,EAAE,aADT;AAECC,eAAO,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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-router\");","module.exports = require(\"axios\");","module.exports = require(\"yup\");","module.exports = require(\"redux\");","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","module.exports = require(\"express\");","module.exports = require(\"history\");","module.exports = require(\"formik\");","module.exports = require(\"redux-thunk\");","module.exports = require(\"webpack\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"serialize-javascript\");","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = require(\"webpack-dev-middleware\");","module.exports = require(\"webpack-hot-middleware\");","const merge = require('webpack-merge');\r\nconst webpack = require('webpack');\r\n\r\nconst webpackCommon = require('./webpack.common');\r\n\r\nconst clientConfig = merge.smart(webpackCommon.clientConfig, {\r\n\tmode: 'development',\r\n\tdevtool: 'eval-source-map',\r\n\tmodule: {\r\n\t\trules: [\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.s(a|c)ss$/,\r\n\t\t\t\tloader: [\r\n\t\t\t\t\t'style-loader',\r\n\t\t\t\t\t'css-loader',\r\n\t\t\t\t\t'postcss-loader',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tloader: 'sass-loader',\r\n\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\tsourceMap: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.css$/,\r\n\t\t\t\tloader: [\r\n\t\t\t\t\t'style-loader',\r\n\t\t\t\t\t'css-loader'\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tplugins: [new webpack.HotModuleReplacementPlugin()],\r\n\tdevServer: {\r\n\t\tcontentBase: './dist/public',\r\n\t\thot: true\r\n\t}\r\n});\r\n\r\nconst serverConfig = merge.smart(webpackCommon.serverConfig, {\r\n\tmode: 'development',\r\n\tdevtool: 'eval-source-map',\r\n\tmodule: {\r\n\t\trules: [\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.s(a|c)ss$/,\r\n\t\t\t\tloader: ['null-loader']\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.css$/,\r\n\t\t\t\tloader: ['null-loader']\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n});\r\n\r\nmodule.exports = [clientConfig, serverConfig];\r\n","module.exports = require(\"webpack-merge\");","const path = require('path');\r\nconst nodeExternals = require('webpack-node-externals');\r\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\r\nconst CopyWebpackPlugin = require('copy-webpack-plugin');\r\n\r\nconst clientConfig = {\r\n\tentry: './src/index.jsx',\r\n\toutput: {\r\n\t\tpath: path.resolve(__dirname, 'dist/public'),\r\n\t\tpublicPath: '/static',\r\n\t\tfilename: 'bundle.js'\r\n\t},\r\n\tmodule: {\r\n\t\trules: [\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.(js|jsx)$/,\r\n\t\t\t\texclude: /node_modules/,\r\n\t\t\t\tuse: {\r\n\t\t\t\t\tloader: 'babel-loader',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\tpresets: [\r\n\t\t\t\t\t\t\t[\"@babel/preset-env\", {\r\n\t\t\t\t\t\t\t\t\"targets\": {\r\n\t\t\t\t\t\t\t\t\t\"browsers\": [\r\n\t\t\t\t\t\t\t\t\t\t\">0.25%\",\r\n\t\t\t\t\t\t\t\t\t\t\"not ie 11\",\r\n\t\t\t\t\t\t\t\t\t\t\"not op_mini all\"\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\"useBuiltIns\": \"usage\",\r\n\t\t\t\t\t\t\t\t\"corejs\": 3\r\n\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t\"@babel/preset-react\"\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"@babel/plugin-proposal-class-properties\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tresolve: {\r\n\t\textensions: ['*', '.js', '.jsx', '.css', '.scss']\r\n\t},\r\n\tplugins: [\r\n\t\tnew CopyWebpackPlugin([\r\n\t\t\t{from: 'src/assets/img', to:'img'}\r\n\t\t]),\r\n\t\tnew HtmlWebpackPlugin({\r\n\t\t\ttitle: 'TopLanche - Um lanche delicioso em minutos',\r\n\t\t\ttemplate: './src/index.html'\r\n\t\t})\r\n\t]\r\n};\r\n\r\nconst serverConfig = {\r\n\tentry: './src/server.jsx',\r\n\toutput: {\r\n\t\tpath: path.resolve(__dirname, 'dist'),\r\n\t\tfilename: 'server.js'\r\n\t},\r\n\tnode: {\r\n\t\t__dirname: false,\r\n\t},\r\n\texternals: [nodeExternals()],\r\n\tmodule: {\r\n\t\trules: [\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.(js|jsx)$/,\r\n\t\t\t\texclude: /node_modules/,\r\n\t\t\t\tuse: {\r\n\t\t\t\t\tloader: 'babel-loader',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\"presets\": [\r\n\t\t\t\t\t\t\t\"@babel/preset-react\"\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\"@babel/plugin-proposal-class-properties\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tresolve: {\r\n\t\textensions: ['*', '.js', '.jsx', '.css', '.scss']\r\n\t},\r\n\tplugins: []\r\n};\r\n\r\nmodule.exports = {\r\n\tclientConfig,\r\n\tserverConfig\r\n};\r\n","module.exports = require(\"webpack-node-externals\");","module.exports = require(\"html-webpack-plugin\");","module.exports = require(\"copy-webpack-plugin\");","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass CartIcon extends React.Component {\r\n\r\n\trender() {\r\n\t\tlet cartLink = \"\";\r\n\t\tlet itemsCount = this.props.cart.reduce((acc, item) => acc + item.qty, 0);\r\n\r\n\t\treturn (\r\n\t\t\t<Link to=\"/cart\" style={{ textDecoration: 'none' }}>\r\n\t\t\t\t<div className=\"cartIcon\">\r\n\t\t\t\t\t<i className=\"fa fa-shopping-cart\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t{itemsCount > 0 &&\r\n\t\t\t\t\t\t<div className=\"cartBadge\">\r\n\t\t\t\t\t\t\t{itemsCount}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n\treturn {\r\n\t\tcart: state.cart\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(CartIcon);\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass Logo extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Link to=\"/\" className=\"logo_link\">\r\n\t\t\t\t<div className=\"logo\">\r\n\t\t\t\t\t<span className=\"logo_part1\">Top</span>\r\n\t\t\t\t\t<span className=\"logo_part2\">Lanches</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Logo;\r\n","import React from 'react';\r\nimport CartIcon from './CartIcon';\r\nimport Logo from \"./Logo\";\r\n\r\nclass Header extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"header_shadow\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Logo />\r\n\t\t\t\t\t\t<CartIcon />\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Header;\r\n","const prodApiBaseUrl = 'https://191.252.201.155/';\r\nconst devApiBaseUrl = 'http://localhost:2000/';\r\n\r\nconst config = {\r\n\tapiBaseUrl:\r\n\t\tprocess.env.NODE_ENV === 'production' ? prodApiBaseUrl : devApiBaseUrl\r\n};\r\n\r\nexport default config;\r\n","export const RECEIVE_PRODUCTS = 'RECEIVE_PRODUCTS';\r\nexport const RECEIVE_PRODUCT = 'RECEIVE_PRODUCT';\r\nexport const SET_CUSTOMER = 'SET_CUSTOMER';\r\nexport const SET_CART = 'SET_CART';\r\nexport const UPDATE_CART_ITEM = 'UPDATE_CART_ITEM';\r\nexport const CHECKOUT_START = 'CHECKOUT_START';\r\nexport const CHECKOUT_END = 'CHECKOUT_END';\r\n","import { createBrowserHistory, createMemoryHistory } from 'history';\r\n\r\nlet createHistory = null;\r\n\r\nif (typeof window !== 'undefined') {\r\n\tcreateHistory = createBrowserHistory;\r\n} else {\r\n\tcreateHistory = createMemoryHistory;\r\n}\r\n\r\nexport default createHistory();\r\n","import axios from 'axios';\r\nimport * as types from '../constants/actionTypes';\r\nimport config from '../config';\r\nimport history from '../helpers/history';\r\n\r\nconst setCustomer = customer => ({\r\n\ttype: types.SET_CUSTOMER,\r\n\tcustomer\r\n});\r\n\r\nconst setCart = cart => ({\r\n\ttype: types.SET_CART,\r\n\tcart\r\n});\r\n\r\nconst checkoutStart = () => ({\r\n\ttype: types.CHECKOUT_START\r\n});\r\n\r\nconst checkoutEnd = () => ({\r\n\ttype: types.CHECKOUT_END\r\n});\r\n\r\nconst addCartItem = productId => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { customer, cart } = getState();\r\n\r\n\t\tconst filteredCart = cart.filter(item => item.product_id === productId);\r\n\r\n\t\tlet cartItem = null;\r\n\r\n\t\tif (filteredCart.length > 0) {\r\n\t\t\t[cartItem] = filteredCart;\r\n\t\t}\r\n\r\n\t\tif (cartItem) {\r\n\t\t\tcartItem.qty += 1;\r\n\t\t} else {\r\n\t\t\tcartItem = { product_id: productId, qty: 1 };\r\n\t\t}\r\n\r\n\t\tconst auth = {\r\n\t\t\theaders: { Authorization: `bearer ${customer.token}` }\r\n\t\t};\r\n\r\n\t\tconst updateCartResponse = await axios.post(\r\n\t\t\t`${config.apiBaseUrl}api/v1/customer/${customer.customer_id}/cart/updateItem`,\r\n\t\t\tcartItem,\r\n\t\t\tauth\r\n\t\t);\r\n\r\n\t\tif (updateCartResponse.status === 200) {\r\n\t\t\tconst newCart = updateCartResponse.data;\r\n\r\n\t\t\tdispatch(setCart(newCart));\r\n\t\t} else {\r\n\t\t\tconsole.log(\r\n\t\t\t\t`updateCartItem error. Status = ${updateCartResponse.status}`\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst updateCartItem = (productId, qty) => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { customer } = getState();\r\n\r\n\t\tconst auth = {\r\n\t\t\theaders: { Authorization: `bearer ${customer.token}` }\r\n\t\t};\r\n\t\tconst cartItem = { product_id: productId, qty };\r\n\r\n\t\tconst updateCartResponse = await axios.post(\r\n\t\t\t`${config.apiBaseUrl}api/v1/customer/${customer.customer_id}/cart/updateItem`,\r\n\t\t\tcartItem,\r\n\t\t\tauth\r\n\t\t);\r\n\r\n\t\tif (updateCartResponse.status === 200) {\r\n\t\t\tconst newCart = updateCartResponse.data;\r\n\r\n\t\t\tdispatch(setCart(newCart));\r\n\t\t} else {\r\n\t\t\tconsole.log(\r\n\t\t\t\t`updateCartItem error. Status = ${updateCartResponse.status}`\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst checkout = checkoutInfo => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { customer } = getState();\r\n\r\n\t\tdispatch(checkoutStart());\r\n\r\n\t\tconst auth = {\r\n\t\t\theaders: { Authorization: `bearer ${customer.token}` }\r\n\t\t};\r\n\r\n\t\tconst checkoutResponse = await axios.post(\r\n\t\t\t`${config.apiBaseUrl}api/v1/customer/${customer.customer_id}/cart/checkout`,\r\n\t\t\tcheckoutInfo,\r\n\t\t\tauth\r\n\t\t);\r\n\r\n\t\tif (checkoutResponse.status === 200) {\r\n\t\t\tdispatch(checkoutEnd());\r\n\t\t\thistory.push('/thankYou');\r\n\t\t} else {\r\n\t\t\tconsole.log(`checkout error. Status = ${checkoutResponse.status}`);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default {\r\n\tsetCustomer,\r\n\tsetCart,\r\n\tupdateCartItem,\r\n\taddCartItem,\r\n\tcheckout\r\n};\r\n","import React from 'react';\r\nimport config from '../config'\r\nimport {connect} from \"react-redux\";\r\nimport customerActions from '../actions/customer';\r\n\r\nclass Product extends React.Component {\r\n\r\n\tbuy = () => {\r\n\t\tthis.props.addCartItem(this.props.productId);\r\n\t};\r\n\r\n\trender() {\r\n\t\tlet imageUrl = config.apiBaseUrl + 'files/' + this.props.image.id + '/' + this.props.image.filename;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"product\">\r\n\t\t\t\t<img src={imageUrl} />\r\n\t\t\t\t\t<div className=\"bottom\">\r\n\t\t\t\t\t\t<h1>{this.props.title}</h1>\r\n\t\t\t\t\t\t<h2>{this.props.description}</h2>\r\n\t\t\t\t\t\t<div className=\"price\">R${this.props.price}</div>\r\n\t\t\t\t\t\t<div className=\"button\" onClick={this.buy}><i className=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\taddCartItem: customerActions.addCartItem\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Product);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport Product from './Product';\r\n\r\nclass Products extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"products\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.props.products.map( (item) => (\r\n\t\t\t\t\t\t\t<Product key={item._id} productId={item._id} image={item.image} title={item.title} description={item.description} price={item.price} />\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n\treturn {\r\n\t\tproducts: state.products\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Products)\r\n","import React from 'react';\r\nimport Logo from \"./Logo\";\r\n\r\nclass Header extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<footer>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"footer_inside\">\r\n\t\t\t\t\t\t<div className=\"copyright\">\r\n\t\t\t\t\t\t\t<Logo />\r\n\t\t\t\t\t\t\t<div className=\"year\">© 2021</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"contacts\">\r\n\t\t\t\t\t\t\t<p>Top Lanches da Vila</p>\r\n\t\t\t\t\t\t\t<p>Rua Melo, 999 - Vila Barros</p>\r\n\t\t\t\t\t\t\t<p>Guarulhos / SP</p>\r\n\t\t\t\t\t\t\t<p>+55 11 98999-9999</p>\r\n\t\t\t\t\t\t\t<p>contato@toplanches.com.br</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</footer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass CartEmpty extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"emptyCartContainer\">\r\n\t\t\t\t<div className=\"emptyCart\">\r\n\t\t\t\t\t<img className=\"emptyCartImg\" src=\"/static/img/shopping-cart.svg\" />\r\n\t\t\t\t\t<div className=\"emptyCartText\">SEU CARRINHO ESTÁ VAZIO</div>\r\n\t\t\t\t\t<Link to=\"/\"><button className=\"blueButton\">Voltar ao Cardápio</button></Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default CartEmpty;\r\n","function displayCurrency(value) {\r\n\tconst floatValue = parseFloat(value);\r\n\treturn floatValue.toFixed(2);\r\n}\r\n\r\nexport default displayCurrency;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport customerActions from '../actions/customer';\r\nimport config from \"../config\";\r\nimport displayCurrency from '../helpers/displayCurrency';\r\n\r\nclass CartTable extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\thandleDelete = (product_id) => {\r\n\t\tconsole.log('Apagando ' + product_id);\r\n\r\n\t\tthis.props.updateCartItem(product_id, 0);\r\n\t};\r\n\r\n\trender() {\r\n\t\tlet cartTotal = this.props.cart.reduce( (acc, item) => {\r\n\t\t\t\tlet {totalPrice, totalQty} = acc;\r\n\r\n\t\t\t\tconsole.log('acc');\r\n\t\t\t\tconsole.log(acc);\r\n\r\n\t\t\t\tlet price = parseFloat(item.price);\r\n\r\n\t\t\t\ttotalPrice += price * item.qty;\r\n\t\t\t\ttotalQty += item.qty;\r\n\r\n\t\t\t\treturn {totalPrice, totalQty};\r\n\t\t\t},\r\n\t\t\t{ totalPrice: 0, totalQty: 0}\r\n\t\t);\r\n\r\n\t\tconsole.log(cartTotal);\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t{\r\n\t\t\t\tthis.props.cart.map((item) => {\r\n\t\t\t\t\tlet imageUrl = config.apiBaseUrl + 'files/' + item.image.id + '/' + item.image.filename;\r\n\r\n\t\t\t\t\tlet price = parseFloat(item.price);\r\n\t\t\t\t\tlet total = price * item.qty;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className=\"cart-prod\">\r\n\t\t\t\t\t\t\t<div className=\"cart-prod-img-cont\">\r\n\t\t\t\t\t\t\t\t<img className=\"cart-prod-img\" src={imageUrl} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"cart-prod-det\">\r\n\t\t\t\t\t\t\t\t<div className=\"cart-prod-head\">{item.title}</div>\r\n\t\t\t\t\t\t\t\t<p className=\"cart-prod-desc\">{item.description}</p>\r\n\t\t\t\t\t\t\t{/* colocar aqui itam-additional e item-coment */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"cart-prod-prc\">R${displayCurrency(price)}</div>\r\n\t\t\t\t\t\t\t<div className=\"cart-prod-mul\">x</div>\r\n\t\t\t\t\t\t\t<div className=\"cart-prod-qty\">\r\n\t\t\t\t\t\t\t\t<input type=\"text\" value={item.qty} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"cart-prod-removal\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t!this.props.disableDelete &&\r\n\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"remove-cart-prod\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.handleDelete(item.product_id)\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\tRemover\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"cart-prod-prc-spacer\" />\r\n\t\t\t\t\t\t\t<div className=\"cart-prod-line-prc\">R${displayCurrency(total)}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t<div className=\"cart-prod\">\r\n\t\t\t\t<div className=\"cart-total\">TOTAL</div>\r\n\t\t\t\t<div className=\"cart-prod-line-prc\">R${displayCurrency(cartTotal.totalPrice)}</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n\treturn {\r\n\t\tcart: state.cart\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tupdateCartItem: customerActions.updateCartItem\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartTable)\r\n","import { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport customerActions from \"../actions/customer\";\r\n\r\nclass Cart extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tphoneRegExp = /^(\\+?\\d{0,4})?\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{4}\\)?)?$/\r\n\r\n\tvalidationSchema = Yup.object().shape({\r\n\t\tname: Yup.string()\r\n\t\t\t.required('Obrigatório'),\r\n\t\tphone: Yup.string()\r\n\t\t\t.required('Obrigatório')\r\n\t\t\t.matches(this.phoneRegExp, 'Número de telefone inválido'),\r\n\t\taddress: Yup.string()\r\n\t\t\t.required('Obrigatório')\r\n\t});\r\n\r\n\thandleCompleteOrder = (values) => {\r\n\t\tthis.props.checkout(values);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"cartTitle\">Forma de Pagamento</div>\r\n\t\t\t\t{/* alterar isso aqui adicionar payment method */}\r\n\t\t\t\t<div className=\"cartFormContainer\">\r\n\t\t\t\t\t<Formik\r\n\t\t\t\t\t\tinitialValues={\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tphone: '',\r\n\t\t\t\t\t\t\t\taddress: '',\r\n\t\t\t\t\t\t\t\tcomment: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalidationSchema={this.validationSchema}\r\n\t\t\t\t\t\tonSubmit={this.handleCompleteOrder}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{({\r\n\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\terrors,\r\n\t\t\t\t\t\t\t\ttouched,\r\n\t\t\t\t\t\t\t\thandleChange,\r\n\t\t\t\t\t\t\t\thandleBlur,\r\n\t\t\t\t\t\t\t\thandleSubmit\r\n\t\t\t\t\t\t\t}) => (\r\n\t\t\t\t\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t\t<label>Como devemos chamá-lo?</label>\r\n\t\t\t\t\t\t\t\t\t\t<input name=\"name\" type=\"text\" onChange={handleChange} onBlur={handleBlur} value={values.name}/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"errors\">\r\n\t\t\t\t\t\t\t\t\t\t{touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t\t<label>Seu número do whatsapp</label>\r\n\t\t\t\t\t\t\t\t\t\t<input name=\"phone\" onChange={handleChange} onBlur={handleBlur} value={values.phone}/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"errors\">\r\n\t\t\t\t\t\t\t\t\t\t\t{touched.phone && errors.phone}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t\t<label>Seu endereço de entrega</label>\r\n\t\t\t\t\t\t\t\t\t\t<textarea name=\"address\" rows={3} onChange={handleChange} onBlur={handleBlur} value={values.address}/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"errors\">\r\n\t\t\t\t\t\t\t\t\t\t\t{touched.address && errors.address}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t\t<label>Se você quiser deixar um comentário para nós, use o espaço abaixo</label>\r\n\t\t\t\t\t\t\t\t\t\t<textarea name=\"comment\" rows={3} onChange={handleChange} onBlur={handleBlur} value={values.comment}/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"errors\">\r\n\t\t\t\t\t\t\t\t\t\t\t{touched.comment && errors.comment}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>0\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Formik>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cartTitle\">Informações Pessoais</div>\r\n\t\t\t\t<div className=\"cartFormContainer\">\r\n\t\t\t\t\t<Formik\r\n\t\t\t\t\t\tinitialValues={\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\t\tphone: '',\r\n\t\t\t\t\t\t\t\taddress: '',\r\n\t\t\t\t\t\t\t\tcomment: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalidationSchema={this.validationSchema}\r\n\t\t\t\t\t\tonSubmit={this.handleCompleteOrder}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{({\r\n\t\t\t\t\t\t\t\tvalues,\r\n\t\t\t\t\t\t\t\terrors,\r\n\t\t\t\t\t\t\t\ttouched,\r\n\t\t\t\t\t\t\t\thandleChange,\r\n\t\t\t\t\t\t\t\thandleBlur,\r\n\t\t\t\t\t\t\t\thandleSubmit\r\n\t\t\t\t\t\t\t}) => (\r\n\t\t\t\t\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t\t<label>Como devemos chamá-lo?</label>\r\n\t\t\t\t\t\t\t\t\t\t<input name=\"name\" type=\"text\" onChange={handleChange} onBlur={handleBlur} value={values.name}/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"errors\">\r\n\t\t\t\t\t\t\t\t\t\t{touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t\t<label>Seu número do whatsapp</label>\r\n\t\t\t\t\t\t\t\t\t\t<input name=\"phone\" onChange={handleChange} onBlur={handleBlur} value={values.phone}/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"errors\">\r\n\t\t\t\t\t\t\t\t\t\t\t{touched.phone && errors.phone}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t\t<label>Seu endereço de entrega</label>\r\n\t\t\t\t\t\t\t\t\t\t<textarea name=\"address\" rows={3} onChange={handleChange} onBlur={handleBlur} value={values.address}/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"errors\">\r\n\t\t\t\t\t\t\t\t\t\t\t{touched.address && errors.address}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"field\">\r\n\t\t\t\t\t\t\t\t\t\t<label>Se você quiser deixar um comentário para nós, use o espaço abaixo</label>\r\n\t\t\t\t\t\t\t\t\t\t<textarea name=\"comment\" rows={3} onChange={handleChange} onBlur={handleBlur} value={values.comment}/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"errors\">\r\n\t\t\t\t\t\t\t\t\t\t\t{touched.comment && errors.comment}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"completeOrderButtonContainer\">\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"blueButton\" type=\"submit\" disabled={this.props.isSubmitting}>Enviar Pedido {this.props.isSubmitting && (<div className=\"spinner\"></div>)}</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Formik>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n\treturn {\r\n\t\tisSubmitting: state.checkout.isSubmitting\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tcheckout: customerActions.checkout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport {Link} from \"react-router-dom\";\r\nimport CartTable from \"./CartTable\";\r\nimport CartForm from \"./CartForm\";\r\n\r\nclass Cart extends React.Component {\r\n\r\n\tstate = {\r\n\t\tcheckout: false\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\thandleCheckout = () => {\r\n\t\tthis.setState({\r\n\t\t\t...this.state,\r\n\t\t\tcheckout: true\r\n\t\t});\r\n\t};\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.setState({\r\n\t\t\t...this.state,\r\n\t\t\tcheckout: false\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<img className=\"emptyCartImg\" src=\"/static/img/shopping-cart.svg\" />\r\n\t\t\t\t<div className=\"cartTitle\">Seu pedido</div>\r\n\t\t\t\t<div className=\"cartContainer\">\r\n\t\t\t\t\t<CartTable disableDelete={this.state.checkout}/>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!this.state.checkout &&\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t<button className=\"blueButton checkoutButton\" onClick={this.handleCheckout}>Pedir</button>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.checkout &&\r\n\t\t\t\t\t(<CartForm onCancel={this.handleCancel}/>)\r\n\t\t\t\t}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n\treturn {\r\n\t\tproducts: state.products\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Cart)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport CartEmpty from \"./CartEmpty\";\r\nimport Cart from \"./Cart\";\r\n\r\nclass CartPage extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet cartEmpty = this.props.cart.length === 0;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"cartCenter\">\r\n\t\t\t\t\t{ cartEmpty ? (<CartEmpty />) : (<Cart />) }\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n\treturn {\r\n\t\tcart: state.cart\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(CartPage)\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass CartThankYou extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"cartCenter\">\r\n\t\t\t\t\t<div className=\"emptyCartContainer\">\r\n\t\t\t\t\t\t<div className=\"emptyCart\">\r\n\t\t\t\t\t\t\t<img className=\"emptyCartImg\" src=\"/static/img/shopping-cart.svg\" />\r\n\t\t\t\t\t\t\t<div className=\"emptyCartText\">Obrigado pelo seu pedido!</div>\r\n\t\t\t\t\t\t\t<div className=\"emptyCartText\">Nós entraremos em contato em brave.</div>\r\n\t\t\t\t\t\t\t<Link to=\"/\"><button className=\"blueButton\">Voltar ao cardápio</button></Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default CartThankYou;\r\n","import React, { Component } from 'react';\r\nimport {withRouter} from \"react-router\";\r\n\r\nclass ScrollToTop extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconsole.log('!!componentDidUpdate');\r\n\t\tconsole.log(this.props);\r\n\t\tconsole.log(prevProps);\r\n\t\tif (this.props.location !== prevProps.location) {\r\n\t\t\tconsole.log('change location');\r\n\t\t\tif (typeof window != 'undefined') {\r\n\t\t\t\tconsole.log('scroll top');\r\n\t\t\t\twindow.scrollTo(0, 0)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn this.props.children\r\n\t}\r\n}\r\n\r\nexport default withRouter(ScrollToTop)\r\n","import React, { Component } from 'react';\r\nimport { Route, Switch } from \"react-router\";\r\nimport Header from \"./Header\";\r\nimport Products from \"./Products\";\r\nimport Footer from \"./Footer\";\r\nimport CartPage from \"./CartPage\";\r\nimport CartThankYou from \"./CartThankYou\";\r\nimport ScrollToTop from \"../helpers/ScrollToTop\";\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ScrollToTop>\r\n\t\t\t\t<div className=\"root\">\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route path=\"/cart\" component={CartPage} />\r\n\t\t\t\t\t\t\t<Route path=\"/thankYou\" component={CartThankYou} />\r\n\t\t\t\t\t\t\t<Route path=\"/\" component={Products} />\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t<Footer />\r\n\t\t\t\t</div>\r\n\t\t\t</ScrollToTop>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import * as types from '../constants/actionTypes';\r\n\r\nconst initialState = {\r\n\tproducts: [],\r\n\tcustomer: null,\r\n\tcart: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.RECEIVE_PRODUCTS:\r\n\t\t\tconsole.log(JSON.stringify(action));\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tproducts: action.products\r\n\t\t\t};\r\n\t\tcase types.SET_CUSTOMER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcustomer: action.customer\r\n\t\t\t};\r\n\t\tcase types.SET_CART:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcart: action.cart\r\n\t\t\t};\r\n\t\tcase types.CHECKOUT_START:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckout: {\r\n\t\t\t\t\tisSubmitting: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase types.CHECKOUT_END:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcheckout: {\r\n\t\t\t\t\tisSubmitting: false\r\n\t\t\t\t},\r\n\t\t\t\tcart: []\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import * as types from '../constants/actionTypes';\r\n\r\nconst customerTokenMiddleware = () => next => action => {\r\n\tif (action.type === types.SET_CUSTOMER) {\r\n\t\twindow.localStorage.setItem('customerId', action.customer.customer_id);\r\n\t\twindow.localStorage.setItem('customerToken', action.customer.token);\r\n\t}\r\n\r\n\tnext(action);\r\n};\r\n\r\nexport default customerTokenMiddleware;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducer from '../reducers';\r\nimport customerTokenMiddleware from '../middlewares/customerTokenMiddleware';\r\n\r\nexport const configureServerStore = initialState => {\r\n\tconst middleware = [thunk];\r\n\r\n\treturn createStore(reducer, initialState, applyMiddleware(...middleware));\r\n};\r\n\r\nexport const configureClientStore = initialState => {\r\n\tconst middleware = [thunk, customerTokenMiddleware];\r\n\r\n\treturn createStore(reducer, initialState, applyMiddleware(...middleware));\r\n};\r\n","import axios from 'axios';\r\nimport * as types from '../constants/actionTypes';\r\nimport config from '../config';\r\n\r\nconst receiveProducts = products => ({\r\n\ttype: types.RECEIVE_PRODUCTS,\r\n\tproducts\r\n});\r\n\r\nconst loadProducts = () => {\r\n\treturn async dispatch => {\r\n\t\tconst productsResponse = await axios.get(\r\n\t\t\t`${config.apiBaseUrl}api/v1/products`\r\n\t\t);\r\n\t\tif (productsResponse.status === 200) {\r\n\t\t\tconst products = productsResponse.data;\r\n\t\t\tconsole.log(products);\r\n\t\t\tdispatch(receiveProducts(products));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport default {\r\n\tloadProducts\r\n};\r\n","import productsActions from './actions/products';\r\n\r\nconst SsrRoutes = [\r\n\t{\r\n\t\tpath: '/',\r\n\t\taction: productsActions.loadProducts\r\n\t},\r\n\t{\r\n\t\tpath: '/product'\r\n\t},\r\n\t{\r\n\t\tpath: '/cart'\r\n\t},\r\n\t{}\r\n];\r\n\r\nexport default SsrRoutes;\r\n","import express from 'express';\r\nimport path from 'path';\r\nimport webpack from 'webpack';\r\nimport webpackDevMiddleware from 'webpack-dev-middleware';\r\nimport webpackHotMiddleware from 'webpack-hot-middleware';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom/server';\r\nimport { StaticRouter, matchPath } from 'react-router-dom';\r\nimport serialize from 'serialize-javascript';\r\nimport { Provider } from 'react-redux';\r\nimport webpackDevConfig from '../webpack.dev';\r\nimport App from \"./components/App\";\r\nimport { configureServerStore } from './store/configureStore';\r\nimport SsrRoutes from './ssrRoutes';\r\n\r\nconst app = express();\r\n\r\nif(process.env.NODE_ENV !== 'production'){\r\n\tconst webpackClientConfig = webpackDevConfig[0];\r\n\tconst compiler = webpack(webpackClientConfig);\r\n\tapp.use(webpackDevMiddleware(compiler, { noInfo: true, publicPath: webpackClientConfig.output.publicPath }));\r\n\tapp.use(webpackHotMiddleware(compiler));\r\n\tconsole.log('Start DEV server');\r\n} else {\r\n\tconsole.log('Start Production server');\r\n\tapp.use('/static', express.static(path.resolve(__dirname, 'public')));\r\n}\r\n\r\nconst renderPage = (html, initialState) => {\r\n\treturn `\r\n    <!doctype html>\r\n    <html>\r\n      <head>\r\n        <meta charset=\"utf-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n        <title>TopLanche - Um lanche delicioso em minutos</title>\r\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\">\r\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/static/main.css\">\r\n      </head>\r\n      <body>\r\n        <div id=\"app\">${html}</div>\r\n        <script>\r\n          window.__INITIAL_STATE__ = ${serialize(initialState)}; \r\n        </script>\r\n        <script src=\"/static/bundle.js\"></script>\r\n      </body>\r\n    </html>\r\n  `;\r\n};\r\n\r\napp.get('/*', function (req, res) {\r\n\tconst currentRoute = SsrRoutes.find(route => matchPath(req.url, route)) || {};\r\n\r\n\tif (currentRoute.action)\r\n\t{\r\n\t\tconst store = configureServerStore();\r\n\r\n\t\tconst loadDataAction = currentRoute.action;\r\n\r\n\t\tstore.dispatch(loadDataAction()).then(() => {\r\n\t\t\tconst componentHtml = ReactDOM.renderToString(\r\n\t\t\t\t<StaticRouter location={req.url} context={{}}>\r\n\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t<App />\r\n\t\t\t\t\t</Provider>\r\n\t\t\t\t</StaticRouter>\r\n\t\t\t);\r\n\r\n\t\t\tconst initialState = store.getState();\r\n\r\n\t\t\tconst html = renderPage(componentHtml, initialState);\r\n\t\t\tres.send(html);\r\n\t\t});\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet html = renderPage('', '');\r\n\tres.send(html);\r\n});\r\n\r\nconst server = app.listen(3000, function () {\r\n\tconst host = server.address().address;\r\n\tconst port = server.address().port;\r\n\tconsole.log('Example app listening at http://%s:%s', host, port);\r\n});\r\n"],"sourceRoot":""}